<!DOCTYPE html>
<html lang="en">
    <head>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
<meta content="Knowledge Continuum" property="og:site_name"/>
<meta content="A non-linear thread of important ideas weaved together to explore and understand the fabric of knowledge." property="og:description">
<meta content="https://sudomaze.dev/about/" property="article:author">
<title>sudomaze.dev</title>

<meta content="Travelling Salesman Problem" property="og:title">
<meta content="article" property="og:type">
<meta content="https://sudomaze.dev/projects/00_main" property="og:url">

<link rel="icon" href="/assets/img/favicon.png" type="image/png" sizes="16x16"/>
<link rel="canonical" href="https://sudomaze.dev/projects/00_main"/>
<link rel="apple-touch-icon" href="/assets/img/profile.png">

    <meta content="width=device-width, initial-scale=1" name="viewport" />
<meta content="Knowledge Continuum" property="og:site_name"/>
<meta content="A non-linear thread of important ideas weaved together to explore and understand the fabric of knowledge." property="og:description">
<meta content="https://sudomaze.dev/about/" property="article:author">
<title>sudomaze.dev</title>

<meta content="Travelling Salesman Problem" property="og:title">
<meta content="article" property="og:type">
<meta content="https://sudomaze.dev/projects/00_main" property="og:url">

<link rel="icon" href="/assets/img/favicon.png" type="image/png" sizes="16x16"/>
<link rel="canonical" href="https://sudomaze.dev/projects/00_main"/>
<link rel="apple-touch-icon" href="/assets/img/profile.png">

    
    
    
    <script src="/assets/libs/jquery/jquery-3.4.1.min.js"></script>
    
    
    <script src="/assets/libs/katex/katex.min.js"></script>
    
    
    <script src="/assets/libs/pseudocode.js/pseudocode.js"></script>
    
    
    <script src="/assets/libs/github/github-calendar.min.js"></script>
    
    
    <script src="/assets/js/nightmode-loader.js"></script>
    
    
    
    
    
    <link rel="stylesheet" href="/assets/libs/fontawesome/css/all.min.css">
    
    
    <link rel="stylesheet" href="/assets/libs/katex/katex.min.css">
    
    
    <link rel="stylesheet" href="/assets/libs/pseudocode.js/pseudocode.css">
    
    
    <link rel="stylesheet" href="/assets/css/style.css">
    
    
    <link rel="stylesheet" href="/assets/libs/github/github-calendar.css">
    
    
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"
      integrity="sha256-/H4YS+7aYb9kJ5OKhFYPUjSJdrtV6AeyJOtTkw6X72o=" crossorigin="anonymous"></script>
    <script>
      var disqusPublicKey = "xlagUgR5BxVFA7EduSkai8EPtVJopAosMcsY4UUHFevX39IsnZNFZepznkfgMKUo",
        disqusShortname = "sudomaze",
        siteUrl = "https://sudomaze.dev",
        pageUrl = "/projects/00_main",
        pageAccessToken = CryptoJS.AES.decrypt("", "Secret Passphrase").toString(CryptoJS
          .enc.Utf8),
        pagePath = "_projects/travelling-salesman-problem/00_main.md",
        githubRepo = "sudomaze/sudomaze.github.io",
        layoutDiscussion = false;
    </script>
  
    
    <link rel="alternate" type="application/rss+xml" href="https://sudomaze.dev/feed.xml">
</head>
    <body>
        <div class="container">
            <div class = "box">
                
<header>
    <div class="dashboard disable-select">
        <div class="site-heading profile-board-col">
           <h4 class="medium">
               <a href="/">sudomaze.dev</a> |
               <i id="theme-toggle" onclick="modeSwitcher()" class="far"></i>
            </h4>
        </div>
        <div class="userboard profile-board-col">
            <div class="username">
                <p class="title-sans"><a href="/about" style="text-decoration: none;">Mazen Alotaibi</a></p>
            </div>
            <div class="userdesc">
                <p class="title-sans">Is an M.S. student under the supervision of <a href="http://web.engr.oregonstate.edu/~lif/">Prof. Fuxin Li</a> at Deep Machine Vision (DMV) in Oregon State University (OSU). He is interested in Computer Vision, Deep Learning, and Data Science.
</p>
            </div>
            <ul class="socials">
                
                <li>
                    <i class="fab fa-twitter" style="color: #1DA1F2"></i>
                    <a href="https://twitter.com/sudomaze">@sudomaze</a>
                </li>
                
                <li>
                    <i class="fab fa-github" style="color: #24292E"></i>
                    <a href="https://github.com/sudomaze">@sudomaze</a>
                </li>
                
                <li>
                    <i class="fab fa-twitch" style="color: #9147FF"></i>
                    <a href="https://twitch.tv/sudomaze">ttv/sudomaze</a>
                </li>
                
                <li>
                    <i class="fab fa-linkedin" style="color: #0077B5"></i>
                    <a href="https://linkedin.com/in/sudomaze">in/sudomaze</a>
                </li>
                
                <li>
                    <i class="fab fa-kaggle" style="color: #35B3E0"></i>
                    <a href="https://www.kaggle.com/sudomaze">@sudomaze</a>
                </li>
                
                <li>
                    <i class="fab fa-discord" style="color: #8899F7"></i>
                    <a href="https://discord.gg/v44SgTg">Join our Discord Channel</a>
                </li>
                
            </ul>
        </div>
    </div>
    <div class="avatar disable-select" title="click me to know more">
        <a class="avatar-link" href="/about">
            <img src="/assets/img/profile.png" class="avatar-img" alt="avatar"/>
        </a>
    </div>
    <div class="main-site-subheader menu disable-select">
    <div class="navbar-item">
        <a style="text-decoration: none;" href="/about">
            <i class="far fa-user"></i>
            <p>About</p>
        </a>
    </div>
    <div class="navbar-item">
        <a style="text-decoration: none;" href="/cv">
            <i class="fas fa-university"></i>
            <p>CV</p>
        </a>
    </div>
    <div class="navbar-item">
        <a style="text-decoration: none;" href="/notes">
            <i class="fas fa-pencil-alt"></i>
            <p>Notes</p>
        </a>
    </div>
    <div class="navbar-item">
        <a style="text-decoration: none;" href="/projects">
            <i class="fas fa-folder-open"></i>
            <p>Projects</p>
        </a>
    </div>
    <!-- <div class="navbar-item">
        <a style="text-decoration: none;" href="/publications">
            <i class="fas fa-glasses"></i>
            <p>Publications</p>
        </a>
    </div> -->
    <div class="navbar-item">
        <a style="text-decoration: none;" href="/site">
            <i class="fas fa-info"></i>
            <p>Site</p>
        </a>
    </div>
    <!-- <div class="navbar-item">
        <a style="text-decoration: none;" href="/tags">
            <i class="fas fa-hashtag"></i>
            <p>Tags</p>
        </a>
    </div> -->
    <div class="navbar-item">
        <a style="text-decoration: none;" href="/feed.xml">
            <i class="fas fa-rss"></i>
            <p>RSS</p>
        </a>
    </div>
</div>
    <div class="searchbar search-container">
    <i class="fa fa-search" aria-hidden="true"></i>
    <label for="search-input"></label>
    <input type="text" oninput="changeResultContainerDisp(this.value)" id="search-input" autocomplete="off" placeholder="Search Simply Jekyll..."/>
    <ul id="results-container"></ul>
</div>
<script src="/assets/js/simple-jekyll-search.min.js"></script>
<script>
    function changeResultContainerDisp(val) {
        if (val) {
            document.getElementById("results-container").style.display = "block";
            document.getElementById("search-input").addEventListener('blur', function() {
                document.addEventListener('click', function(event) {
                    var isClickInside = document.getElementById("results-container").contains(event.target);
                    if (!isClickInside) {
                        document.getElementById("results-container").style.display = "none";
                    }
                })
            }) 
        }  else {
            document.getElementById("results-container").style.display = "none";
        }
    }
    var sjs = SimpleJekyllSearch({
                searchInput: document.getElementById('search-input'),
                resultsContainer: document.getElementById('results-container'),
                json: '/search.json',
                searchResultTemplate: '<li class="search_res" style="list-style: none;"><a href="https://sudomaze.dev{url}" style="text-decoration: none; color: #555555;"><p style="font-size: 1.0rem; font-family: "Inter !important"; font-weight: 600;">{title}</p></a></li>',
                noResultsText: 'No results found',
                fuzzy: false,
                limit: 4
                })   
</script>
    
    <div class="main-site-navigator disable-select" id="scroll-head" onclick="window.location.assign('/');">
        <div class="back-icon">
            <svg class="ripple" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                <path d="M0 0h24v24H0z" fill="none"/>
                <path d="M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"/>
            </svg>
        </div>
        <p class="back-p">Home</p>    
    </div>
    
</header>

                <h1>Travelling Salesman Problem</h1>
<aside class="sidebar__right ">
    <nav class="toc">
        <header><h4 class="nav__title text-center"> Table of Content</h4></header>
        <ul class="toc__menu">
  <li><a href="#description">Description</a></li>
  <li><a href="#algorithms-that-solve-tsp">Algorithms that Solve TSP</a>
    <ul>
      <li><a href="#brute-force-search-naive-algorithm">Brute Force Search (Naive Algorithm)</a>
        <ul>
          <li><a href="#run-time-analysis">Run-time Analysis</a></li>
          <li><a href="#pseudo-code">Pseudo-code</a></li>
          <li><a href="#description-1">Description</a></li>
        </ul>
      </li>
      <li><a href="#held-karp-algorithm-dynamic-algorithm">Held-Karp Algorithm (Dynamic Algorithm)</a>
        <ul>
          <li><a href="#run-time-analysis-1">Run-time Analysis</a></li>
          <li><a href="#pseudo-code-1">Pseudo-code</a></li>
          <li><a href="#description-2">Description</a></li>
        </ul>
      </li>
      <li><a href="#k-nearest-neighbor-algorithm-approximation-algorithm">K-Nearest Neighbor Algorithm (Approximation Algorithm)</a>
        <ul>
          <li><a href="#run-time-analysis-2">Run-time Analysis</a></li>
          <li><a href="#code">Code</a></li>
          <li><a href="#description-3">Description</a></li>
        </ul>
      </li>
      <li><a href="#genetic-algorithm-approximation-algorithm">Genetic Algorithm (Approximation Algorithm)</a>
        <ul>
          <li><a href="#run-time-analysis-3">Run-time Analysis</a></li>
          <li><a href="#code-1">Code</a></li>
          <li><a href="#description-4">Description</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#testing">Testing</a></li>
</ul>

    </nav>
</aside>
<main>
    <!-- Parse internal links, external links, transclusions etc and manipuate the content to reflect it accordingly -->

<div class="content">
    
    

    
    
    
    
    

    
    


    
    

    
    
    

    
<h2 id="description">Description</h2>

<p>This is a final report for analysis of solving the travelling salesman problem using multiple algorithms and the analysis of those algorithms.</p>

<h2 id="algorithms-that-solve-tsp">Algorithms that Solve TSP</h2>

<h3 id="brute-force-search-naive-algorithm">Brute Force Search (Naive Algorithm)</h3>

<h4 id="run-time-analysis">Run-time Analysis</h4>

\[O(n!)\]

<h4 id="pseudo-code">Pseudo-code</h4>

<pre id="read-1" style="display:none;">
    
\begin{algorithm}
\caption{Brute Force Search}
\begin{algorithmic}
\Procedure{BF}{$r$, $cititiesNotInRoute[1...n]$}
    \If {$citiesNotInRoute.length != 0$}
        \For{$i$ \textbf{from} $0$ \textbf{to} $citiesNotInRoute.length$}
            \State $cityRemoved = popFront(cititiesNotInRoute)$
            \State $newRoute = r$
            \State $push(newRoute, cityRemoved)$
            \State $BF(newRoute, cititiesNotInRoute)$
            \State $push(cititiesNotInRoute, cityRemoved)$
        \EndFor
    \EndIf
    \If {$skip == true$}
        \State $print(r)$
    \EndIf
\EndProcedure
\end{algorithmic}
\end{algorithm}

</pre>
<p><span class="markdown-pseudocode" id="goal-1"></span>
<script type="text/javascript">
    var code = document.getElementById("read-1").textContent;
    var parentEl = document.getElementById("goal-1");
    var options = {
        lineNumber: true
    };
    pseudocode.render(code, parentEl, options);
</script></p>

<h4 id="description-1">Description</h4>

<p>This algorithm checks every vertices and every edges. Therefore, it is clear it will find the solution. The running time is $O(n!)$ because the starting vertex has $n-1$  edges to choose, next one has $n-2$  edges to choose, $…  n-1$  vertex has $1$ edge to choose. Therefore, by multiply every edges, Icould get the running time which is $(n-1)!$. Since it is clear $(n-1)! &lt;  n!$, I can say the running time is $O(n!)$.I choose this algorithm because it is the basic way to think about how to solve this problem. This algorithm is easy to make, but it is really slow. Therefore, this algorithm makes us to realize how important the algorithm is. Better algorithm makes way more faster program.</p>

<h3 id="held-karp-algorithm-dynamic-algorithm">Held-Karp Algorithm (Dynamic Algorithm)</h3>

<h4 id="run-time-analysis-1">Run-time Analysis</h4>

\[O(n^2 \times 2^n)\]

<h4 id="pseudo-code-1">Pseudo-code</h4>

<pre id="read-2" style="display:none;">
    
\begin{algorithm}
\caption{Held-Karp Algorithm}
\begin{algorithmic}
\Procedure{HK}{$G$, $n$}
    \For{$k$ \textbf{from} $2$ \textbf{to} $n$}
        \State $C(\{k\},k)=d_{1, k}$
    \EndFor
    \For{$s$ \textbf{from} $2$ \textbf{to} $n-1$}
        \For{$all\ S \subseteq \{2,...,n\}, |S|=s$}
            \For{$all\ k \in S$}
                \State $\{C(S,k)=min_{m \neq k, m \in S}[C(S-\{k\},m)+d_{m, k}]\}$
            \EndFor
        \EndFor
    \EndFor
    \State $opt=min_{k \neq 1}[C(\{2, 3, ..., n\}, k) + d_{k, 1}]$
    \State \textbf{return} $opt$
\EndProcedure
\end{algorithmic}
\end{algorithm}

</pre>
<p><span class="markdown-pseudocode" id="goal-2"></span>
<script type="text/javascript">
    var code = document.getElementById("read-2").textContent;
    var parentEl = document.getElementById("goal-2");
    var options = {
        lineNumber: true
    };
    pseudocode.render(code, parentEl, options);
</script></p>

<h4 id="description-2">Description</h4>

<p>This algorithm use dynamic algorithm to solve the problem. It first gets the distance between two vertices and save it to array. It is $O(n)$ steps. The next part is to find the minimum distance with small set of vertices. The for loop, for $s$ from $2$ to $n-1$ and for all $S$  in ${2, …, n}$, $|S| =  s$, is defining small set of vertices. The next for loop is the part that getting the minimum distance from the set of vertices. Each set has s  elements and it has to compare with s  different minimum candidates, it has $O(s^2)$ running time. The first two loop, which define the set S, has running time with $SUM_i=2 ^{n-1} (C(n-1,i))$ because there are $C(n-1, i)$ number of combination for defining set with $i$  elements, and since it is from $2$  to $n-1$, it makes $SUM_i=2 ^{n-1} (C(n-1,i)) \times  n^2)$. Hence, it could be rewrite as $n^2 \times  SUM_i=2 ^{n-1} (C(n-1,i)) &lt;= n^2 \times  2^{n-1} =  1⁄2  \times  n^2 \times  2^n =  O(2^n \times  n^2$). I choose this algorithm because I learned dynamic programming and this algorithm use that concepts. This algorithm saves data into $C(S, n)$ and use it to find minimum distance. By this skill, this algorithm can find real answer with way more faster than the brute force method. However, it is still slow.</p>

<h3 id="k-nearest-neighbor-algorithm-approximation-algorithm">K-Nearest Neighbor Algorithm (Approximation Algorithm)</h3>

<h4 id="run-time-analysis-2">Run-time Analysis</h4>

\[O(n^2)\]

<h4 id="code">Code</h4>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="code"><pre><span class="k">def</span> <span class="nf">Distance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">math</span><span class="p">.</span><span class="nb">pow</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="s">'i'</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="s">'i'</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nb">pow</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="s">'j'</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="s">'j'</span><span class="p">],</span><span class="mi">2</span><span class="p">)))))</span>

<span class="k">def</span> <span class="nf">KNN</span><span class="p">(</span><span class="n">cities</span><span class="p">,</span> <span class="n">inFile</span><span class="p">):</span>
    <span class="n">matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cities</span><span class="p">))]</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cities</span><span class="p">))]</span>
    <span class="n">minLength</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">maxsize</span>
    <span class="n">order</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cities</span><span class="p">)):</span>
        <span class="n">allCities</span> <span class="o">=</span> <span class="p">[</span><span class="n">z</span> <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">cities</span><span class="p">]</span>
        <span class="n">route</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">route</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">allCities</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s">'city'</span><span class="p">])</span>
        <span class="n">allCities</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">allCities</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">allCities</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
            <span class="n">minDistance</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">maxsize</span>
            <span class="n">minCity</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">allCities</span><span class="p">)):</span>
                <span class="n">currentDistance</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="n">current</span><span class="p">[</span><span class="s">'city'</span><span class="p">]][</span><span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="s">'city'</span><span class="p">]]</span>
                <span class="k">if</span> <span class="n">currentDistance</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">currentDistance</span> <span class="o">=</span> <span class="n">Distance</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">])</span>
                    <span class="n">matrix</span><span class="p">[</span><span class="n">current</span><span class="p">[</span><span class="s">'city'</span><span class="p">]][</span><span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="s">'city'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">currentDistance</span>
                    <span class="n">matrix</span><span class="p">[</span><span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="s">'city'</span><span class="p">]][</span><span class="n">current</span><span class="p">[</span><span class="s">'city'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">currentDistance</span>
                <span class="k">if</span> <span class="n">currentDistance</span> <span class="o">&lt;</span> <span class="n">minDistance</span><span class="p">:</span>
                    <span class="n">minDistance</span> <span class="o">=</span> <span class="n">currentDistance</span>
                    <span class="n">minCity</span> <span class="o">=</span> <span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">]</span>
            <span class="n">route</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">minCity</span><span class="p">[</span><span class="s">'city'</span><span class="p">])</span>
            <span class="n">allCities</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">minCity</span><span class="p">)</span>
            <span class="n">length</span> <span class="o">+=</span> <span class="n">minDistance</span>
        <span class="n">currentDistance</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s">'city'</span><span class="p">]][</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="s">'city'</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">currentDistance</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">currentDistance</span> <span class="o">=</span> <span class="n">Distance</span><span class="p">(</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
            <span class="n">matrix</span><span class="p">[</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s">'city'</span><span class="p">]][</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="s">'city'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">currentDistance</span>
            <span class="n">matrix</span><span class="p">[</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="s">'city'</span><span class="p">]][</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s">'city'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">currentDistance</span>
        <span class="n">length</span> <span class="o">+=</span> <span class="n">currentDistance</span>
        <span class="k">if</span> <span class="n">length</span> <span class="o">&lt;</span> <span class="n">minLength</span><span class="p">:</span>
            <span class="n">minLength</span> <span class="o">=</span> <span class="n">length</span>
            <span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">route</span><span class="p">]</span>
            <span class="n">WriteFileKNN</span><span class="p">(</span><span class="n">inFile</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">minLength</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></figure>

<h4 id="description-3">Description</h4>

<p>This algorithm is greedy algorithm that finds the vertex with minimum weight and choose it. Therefore, the first vertex has to check $n-1$ edges and choose the minimum. Second one has to check n-2 edges and choose the minimum. The $n-1$ vertex choose $1$ edges. Hence, the running time is $SUM\ 1\ TO\ N-1\ = (N-1)(N-2)/2 = O(N^2)$. I choose this algorithm because I found that this is the fastest. This algorithm is greedy algorithm that choose only the nearest vertex from the start vertex, and keep finding the nearest vertex from the chosen one. Since it is just checking the nearest, there is possibility to find the wrong answer. However, I found that this algorithm finds reasonable path, which means not huge different than true answer, and the power of this algorithm is this is super fast. It is only $O(n^2)$. Therefore, this algorithm will be good choice when I need the result really quickly, and
it is ok to have small error. I used a nearest neighbor algorithm written in Java to get inspiration for my Python program,
found here: http://www.sanfoundry.com/java-program-implement-traveling-salesman-problem-using-nearest-neighbour-algorithm/. The program searches for the most optimal nearest neighbor route by using a brute-force wrapper for-loop to select each city as the starting point. The program is able to analyze each
city for the smaller list sizes, but for the larger ones it cannot process each city within 5 minutes, so that is why I have a section of code in the main section of the program to end the algorithm after 5 minutes. Each time the algorithm finds a new shorter route it is written to the output file, so this ensures that I am still able to have a valid result at the very beginning, well before the 5 minute time constraint is over.</p>

<h3 id="genetic-algorithm-approximation-algorithm">Genetic Algorithm (Approximation Algorithm)</h3>

<h4 id="run-time-analysis-3">Run-time Analysis</h4>

\[O(T \times n_0 \times n^2)\]

<p>where $T$ is the number of outer iteration, $n_0$ is the initial size of the population, and $n$ is the number of cities.</p>

<h4 id="code-1">Code</h4>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
</pre></td><td class="code"><pre><span class="k">class</span> <span class="nc">City</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="nb">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
    
    <span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">city</span><span class="p">):</span>
        <span class="c1"># xDis = self.x - city.x
</span>        <span class="c1"># yDis = self.y - city.y
</span>        <span class="c1"># distance = np.sqrt((xDis ** 2) + (yDis ** 2))
</span>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">math</span><span class="p">.</span><span class="nb">pow</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">city</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nb">pow</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">city</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="mi">2</span><span class="p">)))))</span>
    
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">"("</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s">","</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="s">")"</span>

<span class="k">class</span> <span class="nc">Fitness</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">route</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">route</span> <span class="o">=</span> <span class="n">route</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">distance</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">fitness</span><span class="o">=</span> <span class="mf">0.0</span>
    
    <span class="k">def</span> <span class="nf">routeDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">distance</span> <span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">pathDistance</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">route</span><span class="p">)):</span>
                <span class="n">fromCity</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">route</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">toCity</span> <span class="o">=</span> <span class="bp">None</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">route</span><span class="p">):</span>
                    <span class="n">toCity</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">route</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">toCity</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">pathDistance</span> <span class="o">+=</span> <span class="n">fromCity</span><span class="p">.</span><span class="n">distance</span><span class="p">(</span><span class="n">toCity</span><span class="p">)</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">distance</span> <span class="o">=</span> <span class="n">pathDistance</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">distance</span>
    
    <span class="k">def</span> <span class="nf">routeFitness</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">fitness</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">fitness</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">routeDistance</span><span class="p">())</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">fitness</span>
<span class="k">def</span> <span class="nf">createRoute</span><span class="p">(</span><span class="n">cityList</span><span class="p">):</span>
    <span class="n">route</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">sample</span><span class="p">(</span><span class="n">cityList</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">cityList</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">route</span>
<span class="k">def</span> <span class="nf">initialPopulation</span><span class="p">(</span><span class="n">popSize</span><span class="p">,</span> <span class="n">cityList</span><span class="p">):</span>
    <span class="n">population</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">popSize</span><span class="p">):</span>
        <span class="n">population</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">createRoute</span><span class="p">(</span><span class="n">cityList</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">population</span>
<span class="k">def</span> <span class="nf">rankRoutes</span><span class="p">(</span><span class="n">population</span><span class="p">):</span>
    <span class="n">fitnessResults</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">population</span><span class="p">)):</span>
        <span class="n">fitnessResults</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">Fitness</span><span class="p">(</span><span class="n">population</span><span class="p">[</span><span class="n">i</span><span class="p">]).</span><span class="n">routeFitness</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">fitnessResults</span><span class="p">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span> <span class="o">=</span> <span class="n">operator</span><span class="p">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">reverse</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">selection</span><span class="p">(</span><span class="n">popRanked</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">):</span>
    <span class="n">selectionResults</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">popRanked</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">"Index"</span><span class="p">,</span><span class="s">"Fitness"</span><span class="p">])</span>
    <span class="n">df</span><span class="p">[</span><span class="s">'cum_sum'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">Fitness</span><span class="p">.</span><span class="n">cumsum</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="s">'cum_perc'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="n">df</span><span class="p">.</span><span class="n">cum_sum</span><span class="o">/</span><span class="n">df</span><span class="p">.</span><span class="n">Fitness</span><span class="p">.</span><span class="nb">sum</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">):</span>
        <span class="n">selectionResults</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">popRanked</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">popRanked</span><span class="p">)</span> <span class="o">-</span> <span class="n">eliteSize</span><span class="p">):</span>
        <span class="n">pick</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">popRanked</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">pick</span> <span class="o">&lt;=</span> <span class="n">df</span><span class="p">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
                <span class="n">selectionResults</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">popRanked</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">selectionResults</span>
<span class="k">def</span> <span class="nf">matingPool</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">selectionResults</span><span class="p">):</span>
    <span class="n">matingpool</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">selectionResults</span><span class="p">)):</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">selectionResults</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">matingpool</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">population</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">matingpool</span>
<span class="k">def</span> <span class="nf">breed</span><span class="p">(</span><span class="n">parent1</span><span class="p">,</span> <span class="n">parent2</span><span class="p">):</span>
    <span class="n">child</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">childP1</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">childP2</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="n">geneA</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent1</span><span class="p">))</span>
    <span class="n">geneB</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent1</span><span class="p">))</span>
    
    <span class="n">startGene</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">geneA</span><span class="p">,</span> <span class="n">geneB</span><span class="p">)</span>
    <span class="n">endGene</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">geneA</span><span class="p">,</span> <span class="n">geneB</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">startGene</span><span class="p">,</span> <span class="n">endGene</span><span class="p">):</span>
        <span class="n">childP1</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">parent1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        
    <span class="n">childP2</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">parent2</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">childP1</span><span class="p">]</span>

    <span class="n">child</span> <span class="o">=</span> <span class="n">childP1</span> <span class="o">+</span> <span class="n">childP2</span>
    <span class="k">return</span> <span class="n">child</span>
<span class="k">def</span> <span class="nf">breedPopulation</span><span class="p">(</span><span class="n">matingpool</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">):</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matingpool</span><span class="p">)</span> <span class="o">-</span> <span class="n">eliteSize</span>
    <span class="n">pool</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">sample</span><span class="p">(</span><span class="n">matingpool</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">matingpool</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">eliteSize</span><span class="p">):</span>
        <span class="n">children</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">matingpool</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
        <span class="n">child</span> <span class="o">=</span> <span class="n">breed</span><span class="p">(</span><span class="n">pool</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pool</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">matingpool</span><span class="p">)</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">children</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">children</span>
<span class="k">def</span> <span class="nf">mutate</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">swapped</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">individual</span><span class="p">)):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">mutationRate</span><span class="p">):</span>
            <span class="n">swapWith</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">individual</span><span class="p">))</span>
            
            <span class="n">city1</span> <span class="o">=</span> <span class="n">individual</span><span class="p">[</span><span class="n">swapped</span><span class="p">]</span>
            <span class="n">city2</span> <span class="o">=</span> <span class="n">individual</span><span class="p">[</span><span class="n">swapWith</span><span class="p">]</span>
            
            <span class="n">individual</span><span class="p">[</span><span class="n">swapped</span><span class="p">]</span> <span class="o">=</span> <span class="n">city2</span>
            <span class="n">individual</span><span class="p">[</span><span class="n">swapWith</span><span class="p">]</span> <span class="o">=</span> <span class="n">city1</span>
    <span class="k">return</span> <span class="n">individual</span>
<span class="k">def</span> <span class="nf">mutatePopulation</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">):</span>
    <span class="n">mutatedPop</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">population</span><span class="p">)):</span>
        <span class="n">mutatedInd</span> <span class="o">=</span> <span class="n">mutate</span><span class="p">(</span><span class="n">population</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">mutationRate</span><span class="p">)</span>
        <span class="n">mutatedPop</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">mutatedInd</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mutatedPop</span>
<span class="k">def</span> <span class="nf">nextGeneration</span><span class="p">(</span><span class="n">currentGen</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">):</span>
    <span class="n">popRanked</span> <span class="o">=</span> <span class="n">rankRoutes</span><span class="p">(</span><span class="n">currentGen</span><span class="p">)</span>
    <span class="n">selectionResults</span> <span class="o">=</span> <span class="n">selection</span><span class="p">(</span><span class="n">popRanked</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">)</span>
    <span class="n">matingpool</span> <span class="o">=</span> <span class="n">matingPool</span><span class="p">(</span><span class="n">currentGen</span><span class="p">,</span> <span class="n">selectionResults</span><span class="p">)</span>
    <span class="n">children</span> <span class="o">=</span> <span class="n">breedPopulation</span><span class="p">(</span><span class="n">matingpool</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">)</span>
    <span class="n">nextGeneration</span> <span class="o">=</span> <span class="n">mutatePopulation</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">nextGeneration</span>

<span class="k">def</span> <span class="nf">GA</span><span class="p">(</span><span class="n">inFile</span><span class="p">,</span> <span class="n">population</span><span class="p">,</span> <span class="n">popSize</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">,</span> <span class="n">generations</span><span class="p">):</span>
    <span class="n">pop</span> <span class="o">=</span> <span class="n">initialPopulation</span><span class="p">(</span><span class="n">popSize</span><span class="p">,</span> <span class="n">population</span><span class="p">)</span>
    <span class="c1"># print("Initial distance: " + str(1 / rankRoutes(pop)[0][1]))
</span>    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">generations</span><span class="p">):</span>
        <span class="n">pop</span> <span class="o">=</span> <span class="n">nextGeneration</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">)</span>
    
    <span class="c1"># print("Final distance: " + str(1 / rankRoutes(pop)[0][1]))
</span>    <span class="n">bestRouteIndex</span> <span class="o">=</span> <span class="n">rankRoutes</span><span class="p">(</span><span class="n">pop</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">bestRoute</span> <span class="o">=</span> <span class="n">pop</span><span class="p">[</span><span class="n">bestRouteIndex</span><span class="p">]</span>
    <span class="n">WriteFileGA</span><span class="p">(</span><span class="n">inFile</span><span class="p">,</span> <span class="n">bestRoute</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">rankRoutes</span><span class="p">(</span><span class="n">pop</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
</pre></td></tr></tbody></table></code></pre></figure>

<h4 id="description-4">Description</h4>

<p>The genetic algorithm seems to solve different kind of problems pretty well, such as error detection, so I have thought to give it a try to solve the TSP. The implementation of the algorithm is extremely hard compared to KNN, so I need to refer to some online resource to build the algorithm on Python, the resource is found: https://towardsdatascience.com/evolution-of-a-salesman-a-complete-genetic-algorithm-tutorial-for-python-6fe5d2b3ca35. The algorithm starts with a population, a set of solutions, and every population another new population is generated to give better solutions, so as the depth of the population increases the algorithm should give better solutions in theory.</p>

<h2 id="testing">Testing</h2>

<p>In order to test that my program was actually producing valid results we used the supplied tsp-verifier.py program on each of my output routes. Each result was found to be valid.</p>

<p>It seems that the K-Nearest Neighbor (KNN) algorithm give better results in matter of approximation of path took and speed compared to Genetic Algorithm (GA) in all cases when time is the limitation. However, as the complexity of the graph increases and there isn't no time limits, the Genetic Algorithm can finish faster with higher approximation to the optimal path when the threshold to stop is set, compared to the KNN which takes almost 2 times longer on average to reach the same optimal path results.</p>

<p>My best results when testing where Test 1, 2, 4, and 5 when using KNN, and GA failed in most cases besides Test 6 and 7, which gave the same results as KNN at the same time.</p>

<p>Please view the next page to look into all of the results.</p>

<table id="table-1" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Optimal path length</th>
      <th>Predicted path length</th>
      <th>Ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>108159</td>
      <td>130921</td>
      <td>1.21</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>108159</td>
      <td>337541</td>
      <td>3.12</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-1").createCaption();
    table.innerHTML = "<strong>Table 1:</strong> Example 1";
</script>

<table id="table-2" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Optimal path length</th>
      <th>Predicted path length</th>
      <th>Ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>2579</td>
      <td>2975</td>
      <td>1.15</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>2579</td>
      <td>27639</td>
      <td>10.71</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-2").createCaption();
    table.innerHTML = "<strong>Table 2:</strong> Example 2";
</script>

<table id="table-3" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Optimal path length</th>
      <th>Predicted path length</th>
      <th>Ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>1573084</td>
      <td>1936941</td>
      <td>1.23</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>1573084</td>
      <td>1934200</td>
      <td>1.22</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-3").createCaption();
    table.innerHTML = "<strong>Table 3:</strong> Example 3";
</script>

<table id="table-4" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Predicted path length</th>
      <th>Time took</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>5911</td>
      <td>0.014127969741821289</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>10488</td>
      <td>14.512681007385254}</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-4").createCaption();
    table.innerHTML = "<strong>Table 4:</strong> Test 1";
</script>

<table id="table-5" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Predicted path length</th>
      <th>Time took</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>8011</td>
      <td>0.11811113357543945</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>32837</td>
      <td>18.30189299583435</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-5").createCaption();
    table.innerHTML = "<strong>Table 5:</strong> Test 2";
</script>

<table id="table-6" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Predicted path length</th>
      <th>Time took</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>14826</td>
      <td>1.3867180347442627</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>103387</td>
      <td>34.44625997543335</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-6").createCaption();
    table.innerHTML = "<strong>Table 6:</strong> Test 3";
</script>

<table id="table-7" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Predicted path length</th>
      <th>Time took</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>19711</td>
      <td>12.897594213485718</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>220727</td>
      <td>73.32604813575745</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-7").createCaption();
    table.innerHTML = "<strong>Table 7:</strong> Test 4";
</script>

<table id="table-8" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Predicted path length</th>
      <th>Time took</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>27128</td>
      <td>123.83275985717773</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>465770</td>
      <td>200.42861986160278</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-8").createCaption();
    table.innerHTML = "<strong>Table 8:</strong> Test 5";
</script>

<table id="table-9" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Predicted path length</th>
      <th>Time took</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>39834</td>
      <td>299.0716700553894</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>39834</td>
      <td>299.00313663482666</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-9").createCaption();
    table.innerHTML = "<strong>Table 9:</strong> Test 6";
</script>

<table id="table-10" class="table">
  <thead>
    <tr>
      <th> </th>
      <th>Predicted path length</th>
      <th>Time took</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>KNN</td>
      <td>62110</td>
      <td>299.6045079231262</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>62110</td>
      <td>299.00823521614075</td>
    </tr>
  </tbody>
</table>

<script type="text/javascript">
    var table = document.getElementById("table-10").createCaption();
    table.innerHTML = "<strong>Table 10:</strong> Test 7";
</script>


</div>
    <!-- Add backlinks to the current page --> 






    



</main>
                 
                <div id="copyright">
    <p id="copyright-notice">© Mazen Alotaibi</p>
</div>
            </div>
            <button class="scroll-to-top" id="scroll-to-top"><i class="fa fa-chevron-up"></i></button>
        </div>
        
  
    
    <script src="/assets/js/contextmenu.js"></script>
  
    
    <script src="/assets/js/nightmode-event.js"></script>
  

<script>
  document.getElementById("scroll-to-top").addEventListener("click", function() {
  window.scrollTo({top: 0, left: 0, behavior: 'smooth'});
  });
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131236199-2', 'auto');
  ga('send', 'pageview');
</script>
        
    </body>
</html>
